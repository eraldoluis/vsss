<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>The PG Library: /Users/daa/legacy/src/libpg/trunk/simulators/SP38/SP38Optimisator.hh Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.3 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li class="current"><a href="files.html"><span>Files</span></a></li>
  </ul>
</div>
<h1>/Users/daa/legacy/src/libpg/trunk/simulators/SP38/SP38Optimisator.hh</h1><a href="_s_p38_optimisator_8hh.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#ifndef SP38OPTIMISATOR_HH</span>
<a name="l00002"></a>00002 <span class="preprocessor"></span><span class="preprocessor">#define SP38OPTIMISATOR_HH</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span>
<a name="l00004"></a>00004 <span class="preprocessor">#include "<a class="code" href="_config_file_8hh.html">ConfigFile.hh</a>"</span>
<a name="l00005"></a>00005 <span class="preprocessor">#include &lt;boost/tokenizer.hpp&gt;</span>
<a name="l00006"></a>00006 <span class="preprocessor">#include &lt;cstdlib&gt;</span>
<a name="l00007"></a>00007 
<a name="l00008"></a>00008 <span class="preprocessor">#include "<a class="code" href="_artemis_scenario_reader_8hh.html">ArtemisScenarioReader.hh</a>"</span>
<a name="l00009"></a>00009 <span class="preprocessor">#include "<a class="code" href="_paramics_scenario_reader_8hh.html">ParamicsScenarioReader.hh</a>"</span>
<a name="l00010"></a>00010 <span class="preprocessor">#include "<a class="code" href="_paramics_rta_sample_one_reader_8hh.html">ParamicsRtaSampleOneReader.hh</a>"</span>
<a name="l00011"></a>00011 <span class="preprocessor">#include "<a class="code" href="_s_p38_p_g_simulator_8hh.html">SP38PGSimulator.hh</a>"</span>
<a name="l00012"></a>00012 
<a name="l00013"></a>00013 <span class="preprocessor">#include "<a class="code" href="_p_g_basics_8hh.html">PGBasics.hh</a>"</span>
<a name="l00014"></a>00014 
<a name="l00015"></a>00015 <span class="preprocessor">#include "<a class="code" href="_o_l_pomdp_8hh.html">OLPomdp.hh</a>"</span>
<a name="l00016"></a>00016 <span class="preprocessor">#include "<a class="code" href="_basic_controller_8hh.html">BasicController.hh</a>"</span>
<a name="l00017"></a>00017 <span class="preprocessor">#include "<a class="code" href="_factored_controller_8hh.html">FactoredController.hh</a>"</span>
<a name="l00018"></a>00018 <span class="preprocessor">#include "<a class="code" href="_fixed_controller_8hh.html">FixedController.hh</a>"</span>
<a name="l00019"></a>00019 <span class="preprocessor">#include "<a class="code" href="_simple_dynamic_controller_8hh.html">SimpleDynamicController.hh</a>"</span>
<a name="l00020"></a>00020 <span class="preprocessor">#include "<a class="code" href="_neural_net_8hh.html">NeuralNet.hh</a>"</span>
<a name="l00021"></a>00021 <span class="preprocessor">#include "<a class="code" href="_neural_net_batch_8hh.html">NeuralNetBatch.hh</a>"</span>
<a name="l00022"></a>00022 <span class="preprocessor">#include "<a class="code" href="_n_a_c_transform_8hh.html">NACTransform.hh</a>"</span>
<a name="l00023"></a>00023 <span class="preprocessor">#include "<a class="code" href="_cyclic_policy_bias_8hh.html">CyclicPolicyBias.hh</a>"</span>
<a name="l00024"></a>00024 
<a name="l00025"></a>00025 <span class="comment">// Config Variables Names (CVN) in config file</span>
<a name="l00026"></a>00026 
<a name="l00027"></a><a class="code" href="_s_p38_optimisator_8hh.html#73f12c2c3e66cad64afbf6a4f4d417d1">00027</a> <span class="preprocessor">#define SP38_CVN_INSTANCE_FORMAT        "instance_format"</span>
<a name="l00028"></a><a class="code" href="_s_p38_optimisator_8hh.html#8326e36f366a81b751868c8a7950d5a4">00028</a> <span class="preprocessor"></span><span class="preprocessor">#define SP38_CVN_INSTANCE_PATH          "instance_path"</span>
<a name="l00029"></a><a class="code" href="_s_p38_optimisator_8hh.html#4d20ec87cebef83f8e3aed0abdb7cb1e">00029</a> <span class="preprocessor"></span><span class="preprocessor">#define SP38_CVN_SERVER_HOST            "server_host"</span>
<a name="l00030"></a><a class="code" href="_s_p38_optimisator_8hh.html#3472a4a13fd75319d09498764bfffdf9">00030</a> <span class="preprocessor"></span><span class="preprocessor">#define SP38_CVN_REWARD_TYPE            "reward_type"</span>
<a name="l00031"></a><a class="code" href="_s_p38_optimisator_8hh.html#e738fe585462814faba0beba36661c20">00031</a> <span class="preprocessor"></span><span class="preprocessor">#define SP38_CVN_ALL_PHASES_IN_CYCLE    "all_phases_in_cycle"</span>
<a name="l00032"></a><a class="code" href="_s_p38_optimisator_8hh.html#23a9191c87fafce71eae82e1e422e2d3">00032</a> <span class="preprocessor"></span><span class="preprocessor">#define SP38_CVN_RUN_FOREVER            "run_forever"</span>
<a name="l00033"></a><a class="code" href="_s_p38_optimisator_8hh.html#3165b512fca137758f81154b276b6e1d">00033</a> <span class="preprocessor"></span><span class="preprocessor">#define SP38_CVN_MAX_CONNECT_TRIES      "max_connect_tries" </span>
<a name="l00034"></a><a class="code" href="_s_p38_optimisator_8hh.html#aeafccd004916ee502e3604c74443d6e">00034</a> <span class="preprocessor"></span><span class="preprocessor">#define SP38_CVN_DEBUG_SP38_PROTOCOL    "debug_sp38_protocol"</span>
<a name="l00035"></a><a class="code" href="_s_p38_optimisator_8hh.html#0da2a1d39b6207eacc6d216987daab59">00035</a> <span class="preprocessor"></span><span class="preprocessor">#define SP38_CVN_DEBUG                  "debug"</span>
<a name="l00036"></a><a class="code" href="_s_p38_optimisator_8hh.html#1da1d46797571bc54175362fdcfc7527">00036</a> <span class="preprocessor"></span><span class="preprocessor">#define SP38_CVN_NOISY                  "noisy"</span>
<a name="l00037"></a><a class="code" href="_s_p38_optimisator_8hh.html#b3adfaef915a73282273ec66cc1b8e04">00037</a> <span class="preprocessor"></span><span class="preprocessor">#define SP38_CVN_AUTO_BASE_LINE         "auto_baseline"</span>
<a name="l00038"></a><a class="code" href="_s_p38_optimisator_8hh.html#f9cec652368ce63695f0cb4259e36e62">00038</a> <span class="preprocessor"></span><span class="preprocessor">#define SP38_CVN_CYCLE_DURATION         "cycle_duration"</span>
<a name="l00039"></a><a class="code" href="_s_p38_optimisator_8hh.html#ca2e2d3ab8fcaa6b5e4680b665b4d23f">00039</a> <span class="preprocessor"></span><span class="preprocessor">#define SP38_CVN_PRINT_CONFIGURATION    "print_configuration_file"</span>
<a name="l00040"></a><a class="code" href="_s_p38_optimisator_8hh.html#78e1cc9eec224d162bc1e16a8a0f3424">00040</a> <span class="preprocessor"></span><span class="preprocessor">#define SP38_CVN_PARAMETERS             "load_parameters_file"</span>
<a name="l00041"></a><a class="code" href="_s_p38_optimisator_8hh.html#14e1ebbe0645c4d5ef556a4947f1c582">00041</a> <span class="preprocessor"></span><span class="preprocessor">#define SP38_CVN_SAVE_PARAMETERS        "save_parameters_file"</span>
<a name="l00042"></a><a class="code" href="_s_p38_optimisator_8hh.html#c7f3da3b952d4b619fbf43d4f614e7d2">00042</a> <span class="preprocessor"></span><span class="preprocessor">#define SP38_CVN_EPOCH_SIZE             "epoch_size"</span>
<a name="l00043"></a><a class="code" href="_s_p38_optimisator_8hh.html#75f3295cee60db2eac51817edf2a5e76">00043</a> <span class="preprocessor"></span><span class="preprocessor">#define SP38_CVN_TIME_STEP_DURATION     "time_step_duration"</span>
<a name="l00044"></a><a class="code" href="_s_p38_optimisator_8hh.html#07f6898a6a529361e51f929400dd79a9">00044</a> <span class="preprocessor"></span><span class="preprocessor">#define SP38_CVN_LEARNER_DISCOUNT       "learner_discount"</span>
<a name="l00045"></a><a class="code" href="_s_p38_optimisator_8hh.html#021b5898ee8e01e2440e973bbb340e56">00045</a> <span class="preprocessor"></span><span class="preprocessor">#define SP38_CVN_LEARNER_STEP_SIZE      "learner_step_size"</span>
<a name="l00046"></a><a class="code" href="_s_p38_optimisator_8hh.html#c2c9aa4f2861fcf8dcf75a488b9393be">00046</a> <span class="preprocessor"></span><span class="preprocessor">#define SP38_CVN_INTERSECTION_PREFIX    "intersection_"</span>
<a name="l00047"></a><a class="code" href="_s_p38_optimisator_8hh.html#8510cb9ab33fdba1f92faace02419cc7">00047</a> <span class="preprocessor"></span><span class="preprocessor">#define SP38_CVN_CONTROLLER_SUFIX       "_controller"</span>
<a name="l00048"></a><a class="code" href="_s_p38_optimisator_8hh.html#2552f9b9b868bd0eb626c0b0d1e4d2d9">00048</a> <span class="preprocessor"></span><span class="preprocessor">#define SP38_CVN_CONFIGURATION_SUFIX    "_configuration"</span>
<a name="l00049"></a>00049 <span class="preprocessor"></span>
<a name="l00050"></a><a class="code" href="_s_p38_optimisator_8hh.html#51a6dabaea5ecbf8866b2b819a859a12">00050</a> <span class="preprocessor">#define SP38_CVN_CONSTANT_FEATURE       "using_constant_feature"</span>
<a name="l00051"></a><a class="code" href="_s_p38_optimisator_8hh.html#2ed34ad4165868664cab9df4178da004">00051</a> <span class="preprocessor"></span><span class="preprocessor">#define SP38_CVN_CUR_PHASE_FEATURE      "using_current_phase_feature"</span>
<a name="l00052"></a><a class="code" href="_s_p38_optimisator_8hh.html#db52457aa0b69d0367302b20c9d79219">00052</a> <span class="preprocessor"></span><span class="preprocessor">#define SP38_CVN_PHASE_DUR_FEATURE      "using_phase_duration_feature"</span>
<a name="l00053"></a><a class="code" href="_s_p38_optimisator_8hh.html#93aa2588fe65c1f5786af43bffb14311">00053</a> <span class="preprocessor"></span><span class="preprocessor">#define SP38_CVN_CYCLE_DUR_FEATURE      "using_cycle_duration_feature"</span>
<a name="l00054"></a><a class="code" href="_s_p38_optimisator_8hh.html#3b30a6680e625481bcecf2e13cf2825d">00054</a> <span class="preprocessor"></span><span class="preprocessor">#define SP38_CVN_ALL_PHASES_DUR_FEATURE "using_all_phases_duration_feature"</span>
<a name="l00055"></a><a class="code" href="_s_p38_optimisator_8hh.html#a0de4a4c553b1212c73eb0b4ed7d5711">00055</a> <span class="preprocessor"></span><span class="preprocessor">#define SP38_CVN_DETECTOR_ACTIV_FEATURE "using_detector_active_feature"</span>
<a name="l00056"></a><a class="code" href="_s_p38_optimisator_8hh.html#db9a39ca602b6264c162b104c44d7326">00056</a> <span class="preprocessor"></span><span class="preprocessor">#define SP38_CVN_PHASES_HISTORY_FEATURE "using_phases_history_feature"</span>
<a name="l00057"></a><a class="code" href="_s_p38_optimisator_8hh.html#1a079d18905ab196143d8d001c7bc16d">00057</a> <span class="preprocessor"></span><span class="preprocessor">#define SP38_CVN_IGNORED_FEATURE        "using_ignored_feature"</span>
<a name="l00058"></a><a class="code" href="_s_p38_optimisator_8hh.html#649fb1801e921210595c1b0c7893620d">00058</a> <span class="preprocessor"></span><span class="preprocessor">#define SP38_CVN_DAY_HOUR_FEATURE       "using_day_hour_feature"</span>
<a name="l00059"></a>00059 <span class="preprocessor"></span>
<a name="l00060"></a>00060 <span class="comment">//Some fixed Config Variables Values</span>
<a name="l00061"></a><a class="code" href="_s_p38_optimisator_8hh.html#4fffd119eb9b6e6702ad2aab7a70dbfe">00061</a> <span class="preprocessor">#define SP38_CVV_REWARD_LOCAL           "LocalReward"</span>
<a name="l00062"></a><a class="code" href="_s_p38_optimisator_8hh.html#b14cff241a9b8588c0fa8370950c4917">00062</a> <span class="preprocessor"></span><span class="preprocessor">#define SP38_CVV_REWARD_MIXED           "MixedReward"</span>
<a name="l00063"></a><a class="code" href="_s_p38_optimisator_8hh.html#e5dfb1e7dff0ad84c3bff35c85edaad7">00063</a> <span class="preprocessor"></span><span class="preprocessor">#define SP38_CVV_REWARD_POWER           "PowerLocalReward"</span>
<a name="l00064"></a>00064 <span class="preprocessor"></span>
<a name="l00065"></a><a class="code" href="_s_p38_optimisator_8hh.html#4996dd593d4323eafce630be648370f9">00065</a> <span class="preprocessor">#define SP38_CVV_INST_FORMAT_PARAMICS   "Paramics"</span>
<a name="l00066"></a><a class="code" href="_s_p38_optimisator_8hh.html#9fbd21155d5603bb6440cb9d1246cf00">00066</a> <span class="preprocessor"></span><span class="preprocessor">#define SP38_CVV_INST_FORMAT_ARTEMIS    "Artemis"</span>
<a name="l00067"></a><a class="code" href="_s_p38_optimisator_8hh.html#6a5de15ac18c5eeaebf6302f532dd973">00067</a> <span class="preprocessor"></span><span class="preprocessor">#define SP38_CVV_INST_FORMAT_RTA1       "Rta1"</span>
<a name="l00068"></a>00068 <span class="preprocessor"></span>
<a name="l00069"></a><a class="code" href="_s_p38_optimisator_8hh.html#8e2f625778ed7f645a04034d126fbd83">00069</a> <span class="preprocessor">#define SP38_CVV_OLPOMDP_CONTROLLER     "OLPomdp"</span>
<a name="l00070"></a><a class="code" href="_s_p38_optimisator_8hh.html#1ff03ac08f66f300f4173256e6b526cc">00070</a> <span class="preprocessor"></span><span class="preprocessor">#define SP38_CVV_NAC_CONTROLLER         "NAC"</span>
<a name="l00071"></a><a class="code" href="_s_p38_optimisator_8hh.html#4fcf4560869e95abba11ccd2653e8992">00071</a> <span class="preprocessor"></span><span class="preprocessor">#define SP38_CVV_FIXED_CONTROLLER       "Fixed"</span>
<a name="l00072"></a><a class="code" href="_s_p38_optimisator_8hh.html#00e45b92df9b75c4a0db18825f55e0fa">00072</a> <span class="preprocessor"></span><span class="preprocessor">#define SP38_CVV_DYNAMIC_CONTROLLER     "Dynamic"</span>
<a name="l00073"></a>00073 <span class="preprocessor"></span>
<a name="l00074"></a>00074 <span class="keyword">using namespace </span>libpg;
<a name="l00075"></a>00075 
<a name="l00076"></a>00076 <span class="keyword">namespace </span>SP38 {
<a name="l00077"></a>00077 
<a name="l00081"></a><a class="code" href="class_s_p38_1_1_s_p38_optimisator.html">00081</a>   <span class="keyword">class </span><a class="code" href="class_s_p38_1_1_s_p38_optimisator.html">SP38Optimisator</a> {
<a name="l00082"></a>00082     
<a name="l00083"></a>00083   <span class="keyword">public</span>:
<a name="l00084"></a>00084     <a class="code" href="class_s_p38_1_1_s_p38_optimisator.html#569682d6331664f5df5447ecd7ea025c">SP38Optimisator</a>(<span class="keywordtype">string</span>);
<a name="l00085"></a>00085 
<a name="l00086"></a>00086     <a class="code" href="class_s_p38_1_1_s_p38_optimisator.html#569682d6331664f5df5447ecd7ea025c">SP38Optimisator</a>(<a class="code" href="class_s_p38_1_1_scenario_reader.html">ScenarioReader</a>*,<span class="keywordtype">string</span>,<span class="keywordtype">int</span>,<span class="keywordtype">double</span>,<span class="keywordtype">double</span>,<span class="keywordtype">bool</span>,<span class="keywordtype">bool</span>,<span class="keywordtype">bool</span>,<span class="keywordtype">bool</span>,<span class="keywordtype">int</span>,<span class="keywordtype">bool</span>);
<a name="l00087"></a>00087     
<a name="l00088"></a>00088     <span class="keywordtype">void</span> <a class="code" href="class_s_p38_1_1_s_p38_optimisator.html#bb92cebca2d1002b71b7b5ec311a9356">saveBestParameters</a>(<span class="keywordtype">string</span>);
<a name="l00089"></a>00089 
<a name="l00090"></a>00090     <span class="keywordtype">void</span> <a class="code" href="class_s_p38_1_1_s_p38_optimisator.html#214b07a05b54ac3fee803df601699f2e">loadParameters</a>(<span class="keywordtype">string</span>);
<a name="l00091"></a>00091 
<a name="l00092"></a>00092     <a class="code" href="class_s_p38_1_1_scenario_reader.html">ScenarioReader</a>* <a class="code" href="class_s_p38_1_1_s_p38_optimisator.html#283e568b82948874255d29c13b846c75">getScenarioReader</a>(<span class="keywordtype">string</span>,<span class="keywordtype">string</span>);
<a name="l00093"></a>00093 
<a name="l00094"></a>00094     <a class="code" href="classlibpg_1_1_controller.html">libpg::Controller</a>* <a class="code" href="class_s_p38_1_1_s_p38_optimisator.html#0da2c1f98345c6c9ba6cc6508d1feeeb">getController</a>(<a class="code" href="class_s_p38_1_1_intersection.html">Intersection</a>*,<span class="keywordtype">string</span>);
<a name="l00095"></a>00095 
<a name="l00096"></a>00096     <span class="keywordtype">void</span> <a class="code" href="class_s_p38_1_1_s_p38_optimisator.html#ab9d682e8441ba21600c10dfea7daf6c">setIntersectionTimes</a>(<a class="code" href="class_s_p38_1_1_intersection.html">Intersection</a>*, <span class="keywordtype">string</span>);
<a name="l00097"></a>00097 
<a name="l00098"></a>00098     <a class="code" href="namespace_s_p38.html#3eeff4d8fadff72edaed90decf0e7aad">RewardType</a> <a class="code" href="class_s_p38_1_1_s_p38_optimisator.html#6b4fdf590d5223acb5d2dfd9577495b0">getRewardType</a>(<span class="keywordtype">string</span>);
<a name="l00099"></a>00099 
<a name="l00100"></a>00100     <span class="keywordtype">void</span> <a class="code" href="class_s_p38_1_1_s_p38_optimisator.html#b2d673d4b6c447e0555e2846d719d530">setStepsPerEpoch</a>(<a class="code" href="namespace_s_p38.html#4c161ad2519b50be4dd00dc33621322b">uint</a>);
<a name="l00101"></a>00101 
<a name="l00102"></a>00102     <span class="keywordtype">void</span> <a class="code" href="class_s_p38_1_1_s_p38_optimisator.html#3d174937c3417034d692f802ecefa9da">run</a>();
<a name="l00103"></a>00103 
<a name="l00104"></a>00104   <span class="keyword">private</span>:
<a name="l00105"></a>00105 
<a name="l00106"></a>00106     <span class="keywordtype">int</span> steps_per_epoch;
<a name="l00107"></a>00107     <span class="keywordtype">bool</span> run_forever;
<a name="l00108"></a>00108     <span class="keywordtype">bool</span> debug;
<a name="l00109"></a>00109     <span class="keywordtype">bool</span> noisy;
<a name="l00110"></a>00110 
<a name="l00111"></a>00111     <a class="code" href="class_s_p38_1_1_s_p38_p_g_simulator.html">SP38PGSimulator</a>* simulator;
<a name="l00112"></a>00112     <a class="code" href="class_s_p38_1_1_scenario.html">Scenario</a>* scenario;
<a name="l00113"></a>00113     <a class="code" href="classlibpg_1_1_o_l_pomdp.html">OLPomdp</a>* learner;    
<a name="l00114"></a>00114     
<a name="l00115"></a>00115   };
<a name="l00116"></a>00116 
<a name="l00117"></a>00117 }
<a name="l00118"></a>00118 
<a name="l00119"></a>00119 <span class="preprocessor">#endif</span>
</pre></div><hr size="1"><address style="text-align: right;"><small>Generated on Mon Sep 10 19:32:09 2007 for The PG Library by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.3 </small></address>
</body>
</html>
