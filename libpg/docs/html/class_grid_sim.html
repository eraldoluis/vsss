<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>The PG Library: GridSim Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.3 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
  </ul>
</div>
<div class="tabs">
  <ul>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul>
</div>
<h1>GridSim Class Reference</h1><!-- doxytag: class="GridSim" --><!-- doxytag: inherits="libpg::Simulator" --><code>#include &lt;<a class="el" href="_grid_sim_8hh-source.html">GridSim.hh</a>&gt;</code>
<p>
<div class="dynheader">
Inheritance diagram for GridSim:</div>
<div class="dynsection">

<p><center><img src="class_grid_sim.png" usemap="#GridSim_map" border="0" alt=""></center>
<map name="GridSim_map">
<area href="classlibpg_1_1_simulator.html" alt="libpg::Simulator" shape="rect" coords="0,0,97,24">
</map>
</div>

<p>
<a href="class_grid_sim-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_grid_sim.html#158b9a885894853452ea4471a3a71c68">GridSim</a> (int gridSize, double packetGenProb, int bufferSize)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_grid_sim.html#237287eb80f56bb21a06178c5d25ba5b">~GridSim</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_grid_sim.html#b6d0d35dbb9a12a942b04bde3a64709b">getObsRows</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_grid_sim.html#6a658100c0567e7c8655f7a4b02e3cbb">getObsCols</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_grid_sim.html#87514b42e2551bf3e1b8275bd4c57bfa">getAgents</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_grid_sim.html#c593b92fe4af59a817c3c5e6309b8954">getActionDim</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_grid_sim.html#475830cade43a1e368ff4c94d683581a">getRewardDim</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_grid_sim.html#aeff816cb969e5c9334da26052c36d21">getReward</a> (<a class="el" href="_basic_8h.html#a4cc4d8d5e5c7eb8bf12a00d290e936d">Vector</a> &amp;rewards)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_grid_sim.html#0486825e24bd729aa43dd4bb9df3d98c">getObservation</a> (<a class="el" href="classlibpg_1_1_observation.html">Observation</a> &amp;obs)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_grid_sim.html#0046a82c85cd182e2a2ad3875d44736f">doAction</a> (<a class="el" href="_basic_8h.html#a4cc4d8d5e5c7eb8bf12a00d290e936d">Vector</a> &amp;action)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Container for any RL problem we care to define. We simply have to define the dimensionality of actions, a reward function, a way to get observationsk, and a way to do actions. 
<p>Definition at line <a class="el" href="_grid_sim_8hh-source.html#l00013">13</a> of file <a class="el" href="_grid_sim_8hh-source.html">GridSim.hh</a>.</p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="158b9a885894853452ea4471a3a71c68"></a><!-- doxytag: member="GridSim::GridSim" ref="158b9a885894853452ea4471a3a71c68" args="(int gridSize, double packetGenProb, int bufferSize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GridSim::GridSim           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>gridSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>packetGenProb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>bufferSize</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>gridSize</em>&nbsp;</td><td>how many paths in for each direction, e.g., square root of number of agents. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>frequency</em>&nbsp;</td><td>with which packets arrive. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bufferSize</em>&nbsp;</td><td>new packets will be dropped if more than this packets waiting in any queue </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="_grid_sim_8cc-source.html#l00021">21</a> of file <a class="el" href="_grid_sim_8cc-source.html">GridSim.cc</a>.</p>

<p>References <a class="el" href="sum_and_plot_8py-source.html#l00043">sumAndPlot::i</a>.</p>

</div>
</div><p>
<a class="anchor" name="237287eb80f56bb21a06178c5d25ba5b"></a><!-- doxytag: member="GridSim::~GridSim" ref="237287eb80f56bb21a06178c5d25ba5b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual GridSim::~GridSim           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_grid_sim_8hh-source.html#l00037">37</a> of file <a class="el" href="_grid_sim_8hh-source.html">GridSim.hh</a>.</p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="b6d0d35dbb9a12a942b04bde3a64709b"></a><!-- doxytag: member="GridSim::getObsRows" ref="b6d0d35dbb9a12a942b04bde3a64709b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int GridSim::getObsRows           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the number of rows in observation matrix. Generally the length of the observation vector. 
<p>Implements <a class="el" href="classlibpg_1_1_simulator.html#b788b7fc72208e451381cc46ba9cb926">libpg::Simulator</a>.</p>

<p>Definition at line <a class="el" href="_grid_sim_8cc-source.html#l00039">39</a> of file <a class="el" href="_grid_sim_8cc-source.html">GridSim.cc</a>.</p>

<p>References <a class="el" href="_grid_sim_8cc-source.html#l00008">OBS_DIM</a>.</p>

<p>Referenced by <a class="el" href="crf_8cc-source.html#l00027">main_crf()</a>.</p>

</div>
</div><p>
<a class="anchor" name="6a658100c0567e7c8655f7a4b02e3cbb"></a><!-- doxytag: member="GridSim::getObsCols" ref="6a658100c0567e7c8655f7a4b02e3cbb" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int GridSim::getObsCols           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the number of columns in the observation matrix Typically use multiple columns to provide a different observation to each agent, so the number of columns is the same as <a class="el" href="class_grid_sim.html#87514b42e2551bf3e1b8275bd4c57bfa">getAgents()</a> 
<p>Implements <a class="el" href="classlibpg_1_1_simulator.html#99607eeefc94601004512150e5113749">libpg::Simulator</a>.</p>

<p>Definition at line <a class="el" href="_grid_sim_8cc-source.html#l00041">41</a> of file <a class="el" href="_grid_sim_8cc-source.html">GridSim.cc</a>.</p>

</div>
</div><p>
<a class="anchor" name="87514b42e2551bf3e1b8275bd4c57bfa"></a><!-- doxytag: member="GridSim::getAgents" ref="87514b42e2551bf3e1b8275bd4c57bfa" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int GridSim::getAgents           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the total number of agents. Usually 1. 
<p>Implements <a class="el" href="classlibpg_1_1_simulator.html#a9b5ad9520b3c2824c12b85c7e0893f3">libpg::Simulator</a>.</p>

<p>Definition at line <a class="el" href="_grid_sim_8cc-source.html#l00043">43</a> of file <a class="el" href="_grid_sim_8cc-source.html">GridSim.cc</a>.</p>

<p>Referenced by <a class="el" href="crf_8cc-source.html#l00027">main_crf()</a>.</p>

</div>
</div><p>
<a class="anchor" name="c593b92fe4af59a817c3c5e6309b8954"></a><!-- doxytag: member="GridSim::getActionDim" ref="c593b92fe4af59a817c3c5e6309b8954" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int GridSim::getActionDim           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the total action dimensionality. Often, but not necessarily, the same as the number of agents. 
<p>Implements <a class="el" href="classlibpg_1_1_simulator.html#572b2731725d43e134adcab3abf54e5c">libpg::Simulator</a>.</p>

<p>Definition at line <a class="el" href="_grid_sim_8cc-source.html#l00045">45</a> of file <a class="el" href="_grid_sim_8cc-source.html">GridSim.cc</a>.</p>

</div>
</div><p>
<a class="anchor" name="475830cade43a1e368ff4c94d683581a"></a><!-- doxytag: member="GridSim::getRewardDim" ref="475830cade43a1e368ff4c94d683581a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int GridSim::getRewardDim           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the dimensionality of the reward vector. Often, but not necessarily, the same as the number of agents.<p>
Global rewards 
<p>Implements <a class="el" href="classlibpg_1_1_simulator.html#41de5f54746b9e9da7aa5097a9a4c8e3">libpg::Simulator</a>.</p>

<p>Definition at line <a class="el" href="_grid_sim_8cc-source.html#l00050">50</a> of file <a class="el" href="_grid_sim_8cc-source.html">GridSim.cc</a>.</p>

</div>
</div><p>
<a class="anchor" name="aeff816cb969e5c9334da26052c36d21"></a><!-- doxytag: member="GridSim::getReward" ref="aeff816cb969e5c9334da26052c36d21" args="(Vector &amp;rewards)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GridSim::getReward           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_basic_8h.html#a4cc4d8d5e5c7eb8bf12a00d290e936d">Vector</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>rewards</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Just return the reward associated with the most recent state achieved. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>rewards</em>&nbsp;</td><td>vector of rewards. The vector has <a class="el" href="class_grid_sim.html#87514b42e2551bf3e1b8275bd4c57bfa">getAgents()</a> dimensionality In non-local reward mode this vector will just be averaged.</td></tr>
  </table>
</dl>
Just return the next reward set in doAction 
<p>Implements <a class="el" href="classlibpg_1_1_simulator.html#32be15b91d6b4ade048d2028cfc77e18">libpg::Simulator</a>.</p>

<p>Definition at line <a class="el" href="_grid_sim_8cc-source.html#l00055">55</a> of file <a class="el" href="_grid_sim_8cc-source.html">GridSim.cc</a>.</p>

</div>
</div><p>
<a class="anchor" name="0486825e24bd729aa43dd4bb9df3d98c"></a><!-- doxytag: member="GridSim::getObservation" ref="0486825e24bd729aa43dd4bb9df3d98c" args="(Observation &amp;obs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GridSim::getObservation           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlibpg_1_1_observation.html">Observation</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>obs</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Two observations per node giving normalised number of waiting packets. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>obs</em>&nbsp;</td><td>observation structure that should be correct size already </td></tr>
  </table>
</dl>

<p>Implements <a class="el" href="classlibpg_1_1_simulator.html#3cab755b8dc1d54b654f9776c76a9dd1">libpg::Simulator</a>.</p>

<p>Definition at line <a class="el" href="_grid_sim_8cc-source.html#l00067">67</a> of file <a class="el" href="_grid_sim_8cc-source.html">GridSim.cc</a>.</p>

<p>References <a class="el" href="_observation_8hh-source.html#l00100">libpg::Observation::getFeatures()</a>, and <a class="el" href="_grid_sim_8cc-source.html#l00008">OBS_DIM</a>.</p>

</div>
</div><p>
<a class="anchor" name="0046a82c85cd182e2a2ad3875d44736f"></a><!-- doxytag: member="GridSim::doAction" ref="0046a82c85cd182e2a2ad3875d44736f" args="(Vector &amp;action)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int GridSim::doAction           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_basic_8h.html#a4cc4d8d5e5c7eb8bf12a00d290e936d">Vector</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>action</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Do action issued by a controller <dl class="return" compact><dt><b>Returns:</b></dt><dd>vector of actions, typically just a scalar which is cast to an int, but it there are multiple agents it will be a vector of actions for each agent. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>action</em>&nbsp;</td><td>vector that describes the action to perform.</td></tr>
  </table>
</dl>
Do the suggested action, passing through any packets if possible, then add in new packets 
<p>Implements <a class="el" href="classlibpg_1_1_simulator.html#c6afb0e92cc7836dfc107968227d77aa">libpg::Simulator</a>.</p>

<p>Definition at line <a class="el" href="_grid_sim_8cc-source.html#l00086">86</a> of file <a class="el" href="_grid_sim_8cc-source.html">GridSim.cc</a>.</p>

<p>References <a class="el" href="_grid_sim_8cc-source.html#l00009">DBG_POL</a>.</p>

</div>
</div><p>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Sep 10 19:32:10 2007 for The PG Library by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.3 </small></address>
</body>
</html>
