<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>The PG Library: libpg::LookupTableBatch Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.3 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
  </ul>
</div>
<div class="tabs">
  <ul>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul>
</div>
<div class="nav">
<a class="el" href="namespacelibpg.html">libpg</a>::<a class="el" href="classlibpg_1_1_lookup_table_batch.html">LookupTableBatch</a></div>
<h1>libpg::LookupTableBatch Class Reference</h1><!-- doxytag: class="libpg::LookupTableBatch" --><!-- doxytag: inherits="libpg::LookupTable" --><code>#include &lt;<a class="el" href="_lookup_table_batch_8hh-source.html">LookupTableBatch.hh</a>&gt;</code>
<p>
<div class="dynheader">
Inheritance diagram for libpg::LookupTableBatch:</div>
<div class="dynsection">

<p><center><img src="classlibpg_1_1_lookup_table_batch.png" usemap="#libpg::LookupTableBatch_map" border="0" alt=""></center>
<map name="libpg::LookupTableBatch_map">
<area href="classlibpg_1_1_lookup_table.html" alt="libpg::LookupTable" shape="rect" coords="0,56,210,80">
<area href="classlibpg_1_1_approximator.html" alt="libpg::Approximator" shape="rect" coords="0,0,210,24">
<area href="classlibpg_1_1_multidimensional_lookup_table.html" alt="libpg::MultidimensionalLookupTable" shape="rect" coords="0,168,210,192">
</map>
</div>

<p>
<a href="classlibpg_1_1_lookup_table_batch-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibpg_1_1_lookup_table_batch.html#5736e1edeae3b0ee39c8dc20f66fe720">LookupTableBatch</a> (int <a class="el" href="classlibpg_1_1_lookup_table.html#4060e2684e18afbd565d8d75c59231cd">observations</a>, int outputs)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibpg_1_1_lookup_table_batch.html#fc1fe2e169ca49efe75d5c4bf1bb9abb">~LookupTableBatch</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibpg_1_1_lookup_table_batch.html#105eb04e847d5a35836a20acba403dd4">batchStep</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibpg_1_1_lookup_table_batch.html#6e00654646c4f5d73f60727df0864d7c">computeDirection</a> (int steps)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibpg_1_1_lookup_table_batch.html#c0711a37dca5f7aad378aeebea98cc63">accumulateGrad</a> (double reward, <a class="el" href="classlibpg_1_1_observation.html">Observation</a> &amp;newObs)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibpg_1_1_lookup_table_batch.html#3c49890588b6585115051f39917abb2d">resetGrad</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibpg_1_1_lookup_table_batch.html#32848597a7631d3ece209304eb9c4e92">scatter</a> (<a class="el" href="namespacelibpg.html#62a7899983d918844e93181266713e82">Vector</a> &amp;v, <a class="el" href="classlibpg_1_1_approximator.html#c1375d461c4e531da046f2fad93287df">Approximator::StatsEnum</a> s)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibpg_1_1_lookup_table_batch.html#a57578657e6f4694a1d6552512ef1b32">reduce</a> (<a class="el" href="namespacelibpg.html#62a7899983d918844e93181266713e82">Vector</a> &amp;v, <a class="el" href="classlibpg_1_1_approximator.html#c1375d461c4e531da046f2fad93287df">Approximator::StatsEnum</a> s)</td></tr>

<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibpg_1_1_lookup_table_batch.html#e477428c3d843c5a14898c405f44107c">LookupTableBatch</a> ()</td></tr>

<tr><td colspan="2"><br><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="namespacelibpg.html#4d1c6393e8ddc5dab3bb3733d5b5cdd8">Matrix</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibpg_1_1_lookup_table_batch.html#93ffc67aa7e906bdcf91ae3d24ff8306">grads</a></td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
A version of neural network that supports aggregated gradients 
<p>Definition at line <a class="el" href="_lookup_table_batch_8hh-source.html#l00012">12</a> of file <a class="el" href="_lookup_table_batch_8hh-source.html">LookupTableBatch.hh</a>.</p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="e477428c3d843c5a14898c405f44107c"></a><!-- doxytag: member="libpg::LookupTableBatch::LookupTableBatch" ref="e477428c3d843c5a14898c405f44107c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">libpg::LookupTableBatch::LookupTableBatch           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_lookup_table_batch_8hh-source.html#l00017">17</a> of file <a class="el" href="_lookup_table_batch_8hh-source.html">LookupTableBatch.hh</a>.</p>

</div>
</div><p>
<a class="anchor" name="5736e1edeae3b0ee39c8dc20f66fe720"></a><!-- doxytag: member="libpg::LookupTableBatch::LookupTableBatch" ref="5736e1edeae3b0ee39c8dc20f66fe720" args="(int observations, int outputs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">libpg::LookupTableBatch::LookupTableBatch           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>observations</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>outputs</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
A version of the lookup table that supports aggregated gradients Same as neural network call, but additionaly resizes accumulated gradient matrices 
<p>Definition at line <a class="el" href="_lookup_table_batch_8cc-source.html#l00020">20</a> of file <a class="el" href="_lookup_table_batch_8cc-source.html">LookupTableBatch.cc</a>.</p>

<p>References <a class="el" href="_lookup_table_batch_8hh-source.html#l00016">grads</a>.</p>

</div>
</div><p>
<a class="anchor" name="fc1fe2e169ca49efe75d5c4bf1bb9abb"></a><!-- doxytag: member="libpg::LookupTableBatch::~LookupTableBatch" ref="fc1fe2e169ca49efe75d5c4bf1bb9abb" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual libpg::LookupTableBatch::~LookupTableBatch           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="105eb04e847d5a35836a20acba403dd4"></a><!-- doxytag: member="libpg::LookupTableBatch::batchStep" ref="105eb04e847d5a35836a20acba403dd4" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void libpg::LookupTableBatch::batchStep           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Additional methods that are only for batch gradient algs Assuming we have accumulated a gradient somewhere, step in that direction. 
<p>Reimplemented from <a class="el" href="classlibpg_1_1_approximator.html#87785f7a3ecdbfc4678ac0f35aa2c0ac">libpg::Approximator</a>.</p>

<p>Definition at line <a class="el" href="_lookup_table_batch_8cc-source.html#l00026">26</a> of file <a class="el" href="_lookup_table_batch_8cc-source.html">LookupTableBatch.cc</a>.</p>

<p>References <a class="el" href="_lookup_table_batch_8hh-source.html#l00016">grads</a>, <a class="el" href="_lookup_table_8hh-source.html#l00034">libpg::LookupTable::params</a>, and <a class="el" href="_lookup_table_8hh-source.html#l00049">libpg::LookupTable::stepSize</a>.</p>

</div>
</div><p>
<a class="anchor" name="6e00654646c4f5d73f60727df0864d7c"></a><!-- doxytag: member="libpg::LookupTableBatch::computeDirection" ref="6e00654646c4f5d73f60727df0864d7c" args="(int steps)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void libpg::LookupTableBatch::computeDirection           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Update the search direction for the parameters from the current gradient and possible past information. For GPOMDP and most codes this is empty. This could hold conjugation code Or it can extract natural actor critic search direction 
<p>Reimplemented from <a class="el" href="classlibpg_1_1_approximator.html#f8889f18e4ee3b18b8c72a371867a73e">libpg::Approximator</a>.</p>

<p>Definition at line <a class="el" href="_lookup_table_batch_8cc-source.html#l00030">30</a> of file <a class="el" href="_lookup_table_batch_8cc-source.html">LookupTableBatch.cc</a>.</p>

<p>References <a class="el" href="_lookup_table_batch_8hh-source.html#l00016">grads</a>.</p>

</div>
</div><p>
<a class="anchor" name="c0711a37dca5f7aad378aeebea98cc63"></a><!-- doxytag: member="libpg::LookupTableBatch::accumulateGrad" ref="c0711a37dca5f7aad378aeebea98cc63" args="(double reward, Observation &amp;newObs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void libpg::LookupTableBatch::accumulateGrad           </td>
          <td>(</td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlibpg_1_1_observation.html">Observation</a> &amp;&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Calculate and accumulate instant gradient into a batch gradient estimate 
<p>Reimplemented from <a class="el" href="classlibpg_1_1_approximator.html#c80c2d2dbc516ed27c4442b4e7695b34">libpg::Approximator</a>.</p>

<p>Definition at line <a class="el" href="_lookup_table_batch_8cc-source.html#l00034">34</a> of file <a class="el" href="_lookup_table_batch_8cc-source.html">LookupTableBatch.cc</a>.</p>

<p>References <a class="el" href="_lookup_table_batch_8hh-source.html#l00016">grads</a>, and <a class="el" href="_lookup_table_8hh-source.html#l00039">libpg::LookupTable::trace</a>.</p>

</div>
</div><p>
<a class="anchor" name="3c49890588b6585115051f39917abb2d"></a><!-- doxytag: member="libpg::LookupTableBatch::resetGrad" ref="3c49890588b6585115051f39917abb2d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void libpg::LookupTableBatch::resetGrad           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Reset the accumulated gradient only. 
<p>Reimplemented from <a class="el" href="classlibpg_1_1_approximator.html#4905cfc8a9bb75f60e4c941072030c5f">libpg::Approximator</a>.</p>

<p>Definition at line <a class="el" href="_lookup_table_batch_8cc-source.html#l00039">39</a> of file <a class="el" href="_lookup_table_batch_8cc-source.html">LookupTableBatch.cc</a>.</p>

<p>References <a class="el" href="_lookup_table_batch_8hh-source.html#l00016">grads</a>.</p>

</div>
</div><p>
<a class="anchor" name="32848597a7631d3ece209304eb9c4e92"></a><!-- doxytag: member="libpg::LookupTableBatch::scatter" ref="32848597a7631d3ece209304eb9c4e92" args="(Vector &amp;v, Approximator::StatsEnum s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void libpg::LookupTableBatch::scatter           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacelibpg.html#62a7899983d918844e93181266713e82">Vector</a> &amp;&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlibpg_1_1_approximator.html#c1375d461c4e531da046f2fad93287df">Approximator::StatsEnum</a>&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Disperse either the parameters or gradient into appropriate data structures for this class. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>v</em>&nbsp;</td><td>Vector to replace current params or grads or traces. Must be correct size </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>whether to restore grads or params or traces </td></tr>
  </table>
</dl>

<p>Reimplemented from <a class="el" href="classlibpg_1_1_lookup_table.html#6092aceda9faf67439d75aa8ab0716a0">libpg::LookupTable</a>.</p>

<p>Definition at line <a class="el" href="_lookup_table_batch_8cc-source.html#l00044">44</a> of file <a class="el" href="_lookup_table_batch_8cc-source.html">LookupTableBatch.cc</a>.</p>

<p>References <a class="el" href="_u_blas_extras_8cc-source.html#l00152">libpg::UBlasExtras::addScaledVectorToMatrix()</a>, <a class="el" href="_lookup_table_batch_8hh-source.html#l00016">grads</a>, <a class="el" href="_approximator_8hh-source.html#l00031">libpg::Approximator::GRADS</a>, and <a class="el" href="_lookup_table_8hh-source.html#l00034">libpg::LookupTable::params</a>.</p>

</div>
</div><p>
<a class="anchor" name="a57578657e6f4694a1d6552512ef1b32"></a><!-- doxytag: member="libpg::LookupTableBatch::reduce" ref="a57578657e6f4694a1d6552512ef1b32" args="(Vector &amp;v, Approximator::StatsEnum s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void libpg::LookupTableBatch::reduce           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacelibpg.html#62a7899983d918844e93181266713e82">Vector</a> &amp;&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlibpg_1_1_approximator.html#c1375d461c4e531da046f2fad93287df">Approximator::StatsEnum</a>&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add either the parameters or gradient or traces into a vector <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>v</em>&nbsp;</td><td>vector to store stuff into. v must be at least as big as total params/grads/traces. Will not be resized. Will not be cleared. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>whether to collect grads or params or traces </td></tr>
  </table>
</dl>

<p>Reimplemented from <a class="el" href="classlibpg_1_1_lookup_table.html#367eb90ecab2bc902e86a0d16ac3e076">libpg::LookupTable</a>.</p>

<p>Definition at line <a class="el" href="_lookup_table_batch_8cc-source.html#l00060">60</a> of file <a class="el" href="_lookup_table_batch_8cc-source.html">LookupTableBatch.cc</a>.</p>

<p>References <a class="el" href="_u_blas_extras_8cc-source.html#l00132">libpg::UBlasExtras::addMatrixToVector()</a>, <a class="el" href="_lookup_table_batch_8hh-source.html#l00016">grads</a>, <a class="el" href="_approximator_8hh-source.html#l00031">libpg::Approximator::GRADS</a>, <a class="el" href="_lookup_table_8hh-source.html#l00034">libpg::LookupTable::params</a>, and <a class="el" href="_lookup_table_8cc-source.html#l00134">libpg::LookupTable::reduce()</a>.</p>

</div>
</div><p>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="93ffc67aa7e906bdcf91ae3d24ff8306"></a><!-- doxytag: member="libpg::LookupTableBatch::grads" ref="93ffc67aa7e906bdcf91ae3d24ff8306" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacelibpg.html#4d1c6393e8ddc5dab3bb3733d5b5cdd8">Matrix</a> <a class="el" href="classlibpg_1_1_lookup_table_batch.html#93ffc67aa7e906bdcf91ae3d24ff8306">libpg::LookupTableBatch::grads</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_lookup_table_batch_8hh-source.html#l00016">16</a> of file <a class="el" href="_lookup_table_batch_8hh-source.html">LookupTableBatch.hh</a>.</p>

<p>Referenced by <a class="el" href="_lookup_table_batch_8cc-source.html#l00034">accumulateGrad()</a>, <a class="el" href="_lookup_table_batch_8cc-source.html#l00026">batchStep()</a>, <a class="el" href="_lookup_table_batch_8cc-source.html#l00030">computeDirection()</a>, <a class="el" href="_lookup_table_batch_8cc-source.html#l00020">LookupTableBatch()</a>, <a class="el" href="_multidimensional_lookup_table_8cc-source.html#l00033">libpg::MultidimensionalLookupTable::MultidimensionalLookupTable()</a>, <a class="el" href="_lookup_table_batch_8cc-source.html#l00060">reduce()</a>, <a class="el" href="_lookup_table_batch_8cc-source.html#l00039">resetGrad()</a>, and <a class="el" href="_lookup_table_batch_8cc-source.html#l00044">scatter()</a>.</p>

</div>
</div><p>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Sep 10 19:32:11 2007 for The PG Library by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.3 </small></address>
</body>
</html>
